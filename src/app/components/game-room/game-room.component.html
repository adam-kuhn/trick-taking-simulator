<p>Welcome to the game room</p>
<p *ngIf="numberOfPlayers > 0">{{ numberOfPlayers }} Players in game</p>
<button mat-raised-button (click)="dealCards()">Deal the Cards</button>
<button mat-raised-button [disabled]="!dealingCompleted" (click)="openTaskDealDialog()">Tasks</button>

<app-game-summary
  [winningCard]="winningCard"
  [playerSummary]="playerSummary"
  [isPlayerCommander]="isPlayerCommander"
  [leadCard]="leadCard"
  [lastTrick]="lastTrick"
  [revealedCommunications]="revealedCommunications"
></app-game-summary>

<div class="game-area-container">
  <div class="game-area">
    <div class="game-table">
      <div class="table-top" *ngIf="numberOfPlayers > 3">
        <p class="player-summary">{{ playersTableText(findPlayerBySeatOrder(2)) }}</p>
        <p class="player-summary" *ngIf="numberOfPlayers === 5"> {{ playersTableText(findPlayerBySeatOrder(3)) }}</p>
      </div>
      <div class="table-middle">
        <p class="player-summary"> {{ playersTableText(findPlayerBySeatOrder(1)) }}</p>
        <div 
          class="playing-mat arranged-cards"
          cdkDropList 
          id="playing-mat" 
          [cdkDropListData]="playedCards"
          (cdkDropListDropped)="cardPlayed($event)">
          <app-information-card *ngFor="let card of playedCards" [card]="card" [information]="card | playerDisplayName" ></app-information-card>
        </div>
        <p class="player-summary"> {{ playersTableText(findPlayerBySeatOrder(-1)) }}</p>
      </div>
    </div>
    <app-players-hand></app-players-hand>
  </div>
  <div class="task-selection-container" *ngIf="playerSummary.length">
    <app-task-selection [playerSummary]="playerSummary" [isPlayerCommander]="isPlayerCommander" ></app-task-selection>
  </div>
</div>
